# 요구사항을 따르지 않은 설계 내용, 동작 설명

## 1. 설계 내용

### 사용자와 어드민 테이블, 도메인 분리

요구사항에서는 사용자와 어드민을 같은 테이블에 저장하라고 되어 있습니다.
이와 동시에, role 을 통해 사용자와 어드민을 구분하라고 되어 있습니다.

저는 이 설계가 잘못되었다고 생각했습니다.
제 논리를 펼치기 전에, 우선 `"관리자"` 란 무엇인가에 대해 말씀드리겠습니다.
저는 `"관리자"` 는 두 가지 유형으로 구분된다고 생각합니다.

1. 유저로써의 역할을 수행할 수 있는 관리자(슈퍼 계정)
    - 관리자는 사용자와 동일한 행동을 수행할 수 있습니다.
    - 예약을 생성한다거나, 예약을 취소한다거나, 예약을 확인한다거나 하는 행동을 수행할 수 있습니다.
2. 관리자로써의 역할만 수행하는 관리자
    - 관리자는 사용자로써의 역할을 수행하지 않고, 관리자로써의 역할만 수행합니다.
    - 사용자와 동일한 행동을 수행하지 않습니다.

저는 이번 미션에서의 `"관리자"`는 2번에 해당한다고 생각했습니다.
관리자는 예약을 생성한다거나, 자신의 예약을 조회한다거나 하는 행동을 수행하지 않습니다.
관리자는 그저 사용자의 예약을 확인하고, 사용자의 예약을 취소하는 행동만 수행합니다.

관리자로써의 역할만 수행하는 관리자는 사용자와 동일한 테이블에 저장하면 안된다고 생각했습니다.
만약, 사용자 테이블에 `address` 라는 컬럼이 추가된다고 가정하겠습니다.
관리자는 `address` 컬럼에 대한 정보가 필요하지 않습니다.
왜냐하면, 관리자는 사용자로써의 역할을 수행하지 않기 때문입니다.
또한, 관리자는 굳이 `email` 로 로그인할 필요가 없습니다. 관리자의 `email` 정보는 필요하지 않기 때문입니다.

이러한 이유에 따라 저는 사용자와 어드민을 분리된 테이블에 저장했습니다.
이와 더불어, 사용자와 어드민을 분리된 도메인으로 구현했습니다.

물론, 지금은 컬럼이 거의 동일한 형태를 띄고 있습니다.
그렇지만, 미래에 사용자와 어드민의 컬럼이 달라질 가능성이 높다고 생각합니다.

### 사용자와 어드민 페이지 분리

사용자와 어드민은 서로 다른 페이지를 사용합니다.
사용자는 자신의 정보를 확인하고 수정할 수 있는 페이지를 사용하며, 어드민은 모든 사용자의 정보를 확인하고 수정할 수 있는 페이지를 사용합니다.
사용자와 어드민은 각각의 로그인 페이지를 가지고 있습니다.

- 사용자 로그인 페이지 : `/member/login`
- 어드민 로그인 페이지 : `/admin/login`

- 사용자 로그인 API : `POST /members/login`
- 어드민 로그인 API : `POST /admins/login`

사용자는 사용자 로그인 페이지를 통해 로그인하고, 어드민은 어드민 로그인 페이지를 통해 로그인합니다.
현재 사용자의 역할 따라 다른 API 를 요청하기 위해 로컬 스토리지에 현재 사용자 역할을 저장합니다.

### 이름 확인

요구사항에는 사용자의 정보를 확인하기 위해 `/login/check` API 를 사용해야 한다고 되어 있습니다.
그러나, 사용자와 어드민이 분리되었기 때문에, 둘은 더 이상 같은 API 를 사용하지 않습니다.
따라서, 사용자과 어드민 각각의 이름 확인 API 를 구현했습니다.

- 사용자 이름 확인 API : `GET /members/my/name`
- 어드민 이름 확인 API : `GET /admins/my/name`

## 2. 동작 설명

### 로그인

사용자가 `/member/login` 페이지에서 로그인합니다.
관리자가 `/admin/login` 페이지에서 로그인합니다.

로그인하면, 역할을 로컬 스토리지에 저장합니다.

- 로컬 스토리지에 저장되는 역할
    - `role: 'user' | 'admin'`

로컬 스토리지에 저장된 역할에 따라, 이후 어떤 API 를 요청할지 결정합니다.
