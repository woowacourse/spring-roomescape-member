## 기능 요구 사항

1. 예외 처리와 응답

- [X] 적절한 응답 상태 코드 수정
- [X] 발생할 수 있는 상황에 대한 예외 처리
    - [X] 시간 생성 시 시작 시간에 유효하지 않은 값 입력
    - [x] 예약 생성 시 예약자명, 날짜, 시간에 유효하지 않은 값 입력
    - [x] 특정 시간에 대한 예약이 존재하는데, 그 시간을 삭제하려 할 때
    - [X] 지나간 날짜와 시간에 대한 예약 생성 불가 > 더 나은 검증 위치 고려
    - [x] 중복 예약 불가
- [x] Exception Handler 적용

2. 테마 도메인 추가하기

- [x] 테마 테이블을 추가하여 스키마에 반영하기
- [x] 테마 추가 기능 구현
- [X] 테마 조회 기능 구현
- [x] 테마 삭제 기능 구현

**예외 처리 사항**

- [X] 테마의 이름은 1자 이상 10자 이하이다.
- [X] 테마의 이름과 설명이 NULL 인지 체크한다.
- [x] 테마 삭제 시 예약이 존재하면 예외 처리

**수정 사항**

- [x] 테마가 다르면 시작 시간이 같아도 예약이 가능할 수 있도록 기능 수정
- [x] 예약 생성 시 테마도 유효한지 확인하도록 수정

3. 사용자 기능

- [x] 사용자 예약 페이지 뷰 생성
- [x] 날짜와 테마를 선택하면 예약 가능한 시간 확인
- [x] 사용자가 원하는 시간에 예약 가능
- [x] 홈페이지에 인기 테마 페이지 반환
- [ ] 최근 일주일을 기준으로 가장 방문이 많은 예약 10개 확인
- [ ] ThemeDao에서 인기 테마 조회 시 파라미터를 `(count, startAt, endAt)`과 같이 유동적으로 수정

4. 테스트 코드

- [ ] Reservation
    - [ ] Reservation 모델
        - [ ] 예약자의 이름이 유효하지 않은 경우
        - [ ] 예약 시간 비교 테스트
    - [ ] ReservationDao
        - [x] 저장 성공 테스트
        - [ ] 삭제
            - [x] 삭제 성공
            - [ ] 삭제할 id 없는 경우
        - [ ] 모든 예약 반환
        - [ ] time_id로 존재 여부 반환
            - [ ] 존재하는 경우
            - [ ] 존재하지 않는 경우
        - [ ] theme_id, time_id, date로 존재 여부 반환
            - [ ] 존재하는 경우
            - [ ] 존재하지 않는 경우
        - [ ] theme_id로 존재 여부 반환
            - [ ] 존재하는 경우
            - [ ] 존재하지 않는 경우
        - [ ] theme_id, date에 해당하는 예약 리스트 반환
    - [ ] ResrvationService
        - [ ] 예약하기
            - [x] 예약 성공
            - [ ] 등록되지 않는 시간에 대해 예외처리
            - [ ] 등록되지 않는 테마에 대해 예외처리
            - [ ] 과거 날짜 예약 시도 시 예외처리
            - [ ] 날짜, 테마, 시간이 동시에 중복된 예약에 대해서 예외처리
        - [x] 예약 삭제
            - [x] 예약 삭제 성공
            - [x] 존재하지 않는 예약 삭제 시도 시 예외처리
        - [x] 예약 조회
            - [x] 모든 예약 반환
    - [ ] ReservationController
        - [x] GET 요청 성공 - 200
        - [ ] GET 요청 실패 - 500
        - [x] POST 요청 성공 - 201
        - [ ] POST 요청 실패 - 400 (존재하지 않는 시간, 존재하지 않는 테마, 과거 시간, 중복 예약)
        - [x] DELETE 요청 성공 - 204
        - [ ] DELETE 요청 실패 - 404

- [ ] ReservationTime
    - [ ] ReservationTime 모델
        - [ ] 예약 시간이 같은지 판단
    - [ ] ReservationTimeDao
        -[x] 저장 성공 테스트
        -[ ] 삭제
            -[x] 삭제 성공
            -[ ] 삭제할 id 없는 경우
        - [ ] 모든 예약 시간 반환
        - [ ] time_id로 예약시간 조회
            - [x] id의 예약 시간이 있는 경우
            - [ ] id의 예약 시간이 없는 경우
    - [ ] ReservationTimeService
        - [ ] 예약 시간 등록하기
            - [x] 예약 시간 등록 성공
            - [ ] 예약 시간이 중복인 경우 예외처리 // TODO
        - [ ] 예약 시간 삭제하기
            - [x] 예약 삭제 성공
            - [ ] 삭제 시 해당 시간의 예약 존재 시 예외처리
            - [x] 예약 시간의 id가 없는 경우 예외처리
        - [x] 예약 시간 조회하기
        - [ ] 선택한 날짜와 테마의 시간과 예약 여부 조회하기
    - [ ] ReservationTimeController
        - [x] GET 요청 성공 - 200
        - [ ] GET 요청 실패 - 500
        - [ ] `/times/status` GET 요청 성공 - 200
        - [ ] `/times/status` GET 요청 실패 - 500
        - [x] POST 요청 성공 - 201
        - [ ] POST 요청 실패 - 400 (중복)
        - [x] DELETE 요청 성공 - 204
        - [ ] DELETE 요청 실패 - 404

- [ ] Theme
    - [ ] Theme 모델
        - [ ] 테마 이름에 대한 유효성 검증
    - [ ] ThemeDao
        -[ ] 저장 성공 테스트
            -[ ] 삭제
                -[ ] 삭제 성공
                -[ ] 삭제할 id 없는 경우
        - [ ] 모든 테마 반환
        - [ ] theme_id로 테마 조회
            - [ ] id의 테마가 있는 경우
            - [ ] id의 테마가 없는 경우
        - [ ] 예약 건 수가 많은 순서대로 10개의 테마 조회
    - [ ] ThemeService
        - [ ] 테마 등록하기
            - [ ] 테마 등록 성공
            - [ ] 테마 이름이 같을 시 예외처리 // TODO
        - [ ] 모든 테마 조회하기
        - [ ] 최근 일주일 동안 가장 인기있는 10개 테마 반환
        - [ ] 테마 삭제
            - [ ] 테마 삭제 성공
            - [ ] 삭제하려는 테마에 대한 예약 존재 시 예외처리
            - [ ] 해당하는 Id가 없을 시 예외처리
    - [ ] ThemeController
        - [ ] GET 요청 성공 - 200
        - [ ] GET 요청 실패 - 500
        - [ ] `/themes/popular` GET 요청 성공 - 200
        - [ ] `/themes/popular` GET 요청 실패 - 500
        - [ ] POST 요청 성공 - 201
        - [ ] POST 요청 실패 - 400 (중복)
        - [ ] DELETE 요청 성공 - 204
        - [ ] DELETE 요청 실패 - 404

- [x] AdminViewController
    - [x] `/admin`, `/admin/reservation`,  `/admin/time`, `/admin/theme` 페이지 반환 성공 테스트
- [x] UserViewController
    - [x] `/reservation` 페이지 반환 테스트
